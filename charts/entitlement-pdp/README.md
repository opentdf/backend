# entitlement-pdp

![Version: 0.0.10](https://img.shields.io/badge/Version-0.0.10-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: main](https://img.shields.io/badge/AppVersion-main-informational?style=flat-square)

An implementation of an ABAC Entity Entitlement Policy Decision Point

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| Virtru |  |  |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| config.disableTracing | string | `"false"` |  |
| config.externalHost | string | `""` |  |
| config.listenPort | int | `3355` |  |
| config.opaConfigPath | string | `"/etc/opa/config/opa-config.yaml"` |  |
| config.otlpCollectorEndpoint | string | `"opentelemetry-collector.otel.svc:4317"` |  |
| config.verbose | string | `"false"` |  |
| global | object | `{"opentdf":{"common":{"imagePullSecrets":[]}}}` | Global values that may be overridden by a parent chart. |
| global.opentdf.common.imagePullSecrets | list | `[]` | JSON passed to the deployment's template.spec.imagePullSecrets |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repo | string | `"ghcr.io/opentdf/entitlement-pdp"` |  |
| imagePullSecrets | string | `nil` | JSON passed to the deployment's template.spec.imagePullSecrets. Overrides global.opentdf.common.imagePullSecrets when set |
| opaConfig.extraConfigYaml | object | `{"decision_logs":{"console":true}}` | Any extra/additional OPA config defined here will be appended as-is, as raw YAML to the OPA config file generated by the chart. |
| opaConfig.policy.OCIRegistryUrl | string | `"https://ghcr.io"` |  |
| opaConfig.policy.allowInsecureTLS | bool | `false` | This will tell OPA to ignore TLS errors (bad cert, self-signed cert, etc) when downloading an OCI policy bundle from an OCI registry.  Unsuitable for production, used for testing with `localhost` registries |
| opaConfig.policy.bundleRepo | string | `"ghcr.io/opentdf/entitlement-pdp/entitlements-policybundle"` |  |
| opaConfig.policy.updatePolling.maxDelay | int | `120` |  |
| opaConfig.policy.updatePolling.minDelay | int | `60` |  |
| opaConfig.policy.useStaticPolicy | bool | `false` | If `useStaticPolicy` is set to `true`, then an OPA config will be generated that forces the use of a policy bundle that was built and packed into the `entitlement-pdp` container at *build* time, and no policy bundle will be fetched dynamically from the registry on startup. This is not a desirable default, but it is useful in offline deployments. |
| opaConfigMountPath | string | `"/etc/opa/config"` | Where the opa config yaml is mounted |
| replicaCount | int | `3` |  |
| secret.opaPolicyPullSecret | string | `"YOUR_GHCR_PAT_HERE"` |  |
| secretRef | string | `nil` | Additional secrets. You can also add opa |
| serviceAccount.annotations | object | `{}` | Annotations to add to the service account |
| serviceAccount.create | bool | `true` | Specifies whether a service account should be created |
| serviceAccount.name | string | `""` | The name of the service account to use. If not set and create is true, a name is generated using the fullname template |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
