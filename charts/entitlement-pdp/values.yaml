name: 'opentdf-entitlement-pdp'
replicaCount: 3
image:
  # repo: ghcr.io/virtru-corp/entitlement-pdp
  # tag: 0.0.5
  pullPolicy: IfNotPresent

useImagePullSecret: false
imageCredentials:
  registry: ghcr.io
  username: username
  password: password
  email: nope@nah.com

secret:
  opaPolicyPullSecret: "YOUR_GHCR_PAT_HERE"

opaConfigMountPath: "/etc/opa/config"

opaConfig:
  policy:
    OCIRegistryUrl: "https://ghcr.io"
    bundleRepo: "ghcr.io/virtru-corp/entitlement-pdp/entitlements-policybundle"
    # `bundleTag` will default to `.Chart.AppVersion` if unset
    # bundleTag: 0.0.6
    updatePolling:
      minDelay: 60
      maxDelay: 120
  extraConfigYaml:
  # Any extra/additional OPA config defined here will be appended as-is,
  # as raw YAML to the OPA config file generated by the chart.
    distributed_tracing:
      type: grpc
      address: opentelemetry-collector.otel.svc:4317
      service_name: entitlement-pdp-opa
      sample_percentage: 50
      encryption: "off"

    decision_logs:
      console: true

config:
  listenPort: 3355
  externalHost: ""
  verbose: "false"
  disableTracing: "false"
  otlpCollectorEndpoint: "opentelemetry-collector.otel.svc:4317"
  opaConfigPath: "/etc/opa/config/opa-config.yaml"
