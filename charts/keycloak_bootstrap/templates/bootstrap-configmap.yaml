apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "keycloak-bootstrap.fullname" . }}-cm
  labels:
    chart: "{{ $.Chart.Name }}-{{ $.Chart.Version }}"
    release: "{{ $.Release.Name }}"
    heritage: "{{ $.Release.Service }}"
data:
  config.yaml: |-
{{ toYaml .Values.keycloakx.customConfig | indent 4 }}
  entitlements.yaml: |-
{{ toYaml .Values.entitlements.realms | indent 4 }}
  authorities.yaml: |-
{{ toYaml .Values.attributes.preloadedAuthorities | indent 4 }}
  attributes.yaml: |-
{{ toYaml .Values.attributes.preloadedAttributes | indent 4 }}
  clients.yaml: |-
{{ toYaml .Values.keycloakx.preloadedClients | indent 4 }}
  users.yaml: |-
{{ toYaml .Values.keycloakx.preloadedUsers | indent 4 }}

