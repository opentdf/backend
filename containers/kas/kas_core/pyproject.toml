[build-system]
requires = ["setuptools", "wheel"]
build-backend = "setuptools.build_meta:__legacy__"

[tool.ruff]
# Code generated by Swagger is out of scope
exclude = ["swagger_client/","env","src"]

target-version = "py311"

# Enable rules for Ruff
#
# NOTE: Information on all rules (and selection), see:
#   https://beta.ruff.rs/docs/rules/
select = [
    # Pycodestyle
    "E",
    # Pyflakes
    "F",
    # flake8-bugbear
    "B",
    # McCabe complexity
    "C90",
    # flake8-django
    # "DJ"
]

# Disabling rules
ignore = [
    # `E402` Module level import not at top of file
    "E402",
    # `E501` line length violations
    "E501",
    # `F401` imported but unused
    # Disabling this, as we build out Django
    "F401",
    # False-positive issue with F811: https://github.com/charliermarsh/ruff/issues/4076
    # `F811` Redefinition of unused
    "F811",
    # TODO later
    "E711",
    "B017",
    "E722",
    "B904",
    "F841",
    "E712",
    "E731",
    "B018",
    "F405",
    "F601",
    "B020",
    "F821",
    "F403",
]

# Same as Black.
line-length = 88

[tool.ruff.mccabe]
# Flag errors (`C901`) whenever the complexity level exceeds 8.
max-complexity = 8

[tool.ruff.per-file-ignores]
"tdf3_kas_core/web/run_service_with_exceptions.py" = ["C901"]
"tdf3_kas_core/dpop.py" = ["C901"]
"tdf3_kas_core/services.py" = ["C901"]